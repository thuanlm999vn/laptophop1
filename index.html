<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AnhShop - NÆ°á»›c giáº·t & Äá»“ gia dá»¥ng</title>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

<style>
Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  body {Â 
Â  Â  Â  Â  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;Â 
Â  Â  Â  Â  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
Â  Â  Â  Â  min-height: 100vh;
Â  Â  }
Â  Â Â 
Â  Â  /* Header */
Â  Â  header {
Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  justify-content: space-between;Â 
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  padding: 20px 50px;Â 
Â  Â  Â  Â  background: rgba(255,255,255,0.95);
Â  Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
Â  Â  Â  Â  position: sticky;Â 
Â  Â  Â  Â  top: 0;Â 
Â  Â  Â  Â  z-index: 100;
Â  Â  }
Â  Â  .logo {Â 
Â  Â  Â  Â  font-size: 24px;Â 
Â  Â  Â  Â  font-weight: 900;Â 
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  Â  -webkit-text-fill-color: transparent;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  gap: 10px;
Â  Â  }
Â  Â  nav { display: flex; gap: 30px; }
Â  Â  nav a {Â 
Â  Â  Â  Â  text-decoration: none;Â 
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  font-size: 15px;Â 
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  position: relative;
Â  Â  }
Â  Â  nav a:hover { color: #667eea; }
Â  Â  nav a::after {
Â  Â  Â  Â  content: '';
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  bottom: -5px;
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  width: 0;
Â  Â  Â  Â  height: 2px;
Â  Â  Â  Â  background: #667eea;
Â  Â  Â  Â  transition: width 0.3s;
Â  Â  }
Â  Â  nav a:hover::after { width: 100%; }
Â  Â Â 
Â  Â  .auth {Â 
Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  gap: 20px;Â 
Â  Â  }
Â  Â  .auth-btn {
Â  Â  Â  Â  padding: 10px 24px;
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 25px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
Â  Â  }
Â  Â  .auth-btn:hover {
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
Â  Â  }
Â  Â  .user-info {
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  gap: 15px;
Â  Â  }
Â  Â  .user-avatar {
Â  Â  Â  Â  width: 40px;
Â  Â  Â  Â  height: 40px;
Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  cursor: pointer;
Â  Â  }
Â  Â  .user-menu {
Â  Â  Â  Â  position: relative;
Â  Â  }
Â  Â  .user-dropdown {
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 50px;
Â  Â  Â  Â  right: 0;
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
Â  Â  Â  Â  min-width: 200px;
Â  Â  Â  Â  overflow: hidden;
Â  Â  }
Â  Â  .user-dropdown.active { display: block; }
Â  Â  .user-dropdown a {
Â  Â  Â  Â  display: block;
Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  transition: background 0.3s;
Â  Â  }
Â  Â  .user-dropdown a:hover { background: #f5f5f5; }
Â  Â Â 
Â  Â  /* Notification Badge */
Â  Â  .notification-badge {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: -8px;
Â  Â  Â  Â  right: -8px;
Â  Â  Â  Â  background: #ff4444;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  width: 20px;
Â  Â  Â  Â  height: 20px;
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  font-size: 11px;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  border: 2px solid white;
Â  Â  Â  Â  animation: pulse-badge 2s infinite;
Â  Â  }
Â  Â  .notification-badge.active {
Â  Â  Â  Â  display: flex;
Â  Â  }
Â  Â  @keyframes pulse-badge {
Â  Â  Â  Â  0%, 100% { transform: scale(1); }
Â  Â  Â  Â  50% { transform: scale(1.2); }
Â  Â  }
Â  Â Â 
Â  Â  .cart {Â 
Â  Â  Â  Â  font-weight: 600;Â 
Â  Â  Â  Â  cursor: pointer;Â 
Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  gap: 5px;
Â  Â  Â  Â  padding: 8px 16px;
Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .cart:hover { background: #f0f0f0; }
Â  Â  .cart-badge {
Â  Â  Â  Â  position: absolute;Â 
Â  Â  Â  Â  top: -5px;Â 
Â  Â  Â  Â  right: -5px;Â 
Â  Â  Â  Â  background: #ff4444;
Â  Â  Â  Â  color: white;Â 
Â  Â  Â  Â  border-radius: 50%;Â 
Â  Â  Â  Â  width: 20px;Â 
Â  Â  Â  Â  height: 20px;
Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  font-size: 11px;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  border: 2px solid white;
Â  Â  }
Â  Â Â 
Â  Â  /* Banner */
Â  Â  .banner {Â 
Â  Â  Â  Â  padding: 80px 50px;Â 
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  overflow: hidden;
Â  Â  }
Â  Â  .banner::before {
Â  Â  Â  Â  content: '';
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: -50%;
Â  Â  Â  Â  right: -50%;
Â  Â  Â  Â  width: 200%;
Â  Â  Â  Â  height: 200%;
Â  Â  Â  Â  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
Â  Â  Â  Â  animation: pulse 15s infinite;
Â  Â  }
Â  Â  @keyframes pulse {
Â  Â  Â  Â  0%, 100% { transform: scale(1); }
Â  Â  Â  Â  50% { transform: scale(1.1); }
Â  Â  }
Â  Â  .banner-content {
Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  z-index: 1;
Â  Â  }
Â  Â  .banner h1 {Â 
Â  Â  Â  Â  font-size: 48px;Â 
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  text-shadow: 0 2px 10px rgba(0,0,0,0.2);
Â  Â  }
Â  Â  .banner p {Â 
Â  Â  Â  Â  font-size: 20px;Â 
Â  Â  Â  Â  margin-bottom: 30px;Â 
Â  Â  Â  Â  opacity: 0.95;
Â  Â  }
Â  Â  .banner-btn {Â 
Â  Â  Â  Â  padding: 15px 40px;Â 
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  color: #667eea;Â 
Â  Â  Â  Â  border: none;Â 
Â  Â  Â  Â  cursor: pointer;Â 
Â  Â  Â  Â  border-radius: 30px;Â 
Â  Â  Â  Â  font-weight: 700;Â 
Â  Â  Â  Â  font-size: 16px;Â 
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
Â  Â  }
Â  Â  .banner-btn:hover {Â 
Â  Â  Â  Â  transform: translateY(-3px);Â 
Â  Â  Â  Â  box-shadow: 0 6px 25px rgba(0,0,0,0.3);
Â  Â  }
Â  Â Â 
Â  Â  /* Admin Controls */
Â  Â  .admin-controls {
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  padding: 20px 50px;
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
Â  Â  }
Â  Â  .admin-controls.active { display: block; }
Â  Â  .admin-header {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  }
Â  Â  .admin-header h3 {
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-size: 22px;
Â  Â  }
Â  Â  .admin-actions {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  gap: 10px;
Â  Â  }
Â  Â  .admin-actions button {
Â  Â  Â  Â  padding: 10px 18px;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .btn-add-product {
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  color: white;
Â  Â  }
Â  Â  .btn-add-product:hover {
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
Â  Â  }
Â  Â  .btn-view-orders {
Â  Â  Â  Â  background: #f0f0f0;
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .btn-view-orders:hover {
Â  Â  Â  Â  background: #e0e0e0;
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  }
Â  Â Â 
Â  Â  /* Products Section */
Â  Â  .products {Â 
Â  Â  Â  Â  padding: 60px 50px;Â 
Â  Â  Â  Â  max-width: 1400px;Â 
Â  Â  Â  Â  margin: 0 auto;Â 
Â  Â  }
Â  Â  .products-header {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  }
Â  Â  .products h2 {Â 
Â  Â  Â  Â  font-size: 32px;Â 
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-weight: 800;
Â  Â  }
Â  Â Â 
Â  Â  .product-list {
Â  Â  Â  Â  display: grid;Â 
Â  Â  Â  Â  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
Â  Â  Â  Â  gap: 30px;
Â  Â  }
Â  Â  .product {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  transition: all 0.4s;
Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  position: relative;
Â  Â  }
Â  Â  .product:hover {Â 
Â  Â  Â  Â  transform: translateY(-10px);Â 
Â  Â  Â  Â  box-shadow: 0 8px 30px rgba(102, 126, 234, 0.3);
Â  Â  }
Â  Â  .product-image-container {
Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 250px;
Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
Â  Â  }
Â  Â  .product img {Â 
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  object-fit: cover;
Â  Â  Â  Â  transition: transform 0.4s;
Â  Â  }
Â  Â  .product:hover img {
Â  Â  Â  Â  transform: scale(1.1);
Â  Â  }
Â  Â  .product-content {
Â  Â  Â  Â  padding: 20px;
Â  Â  }
Â  Â  .product h3 {Â 
Â  Â  Â  Â  font-size: 18px;Â 
Â  Â  Â  Â  margin: 15px 0 10px 0;Â 
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-weight: 700;
Â  Â  }
Â  Â  .product-price {Â 
Â  Â  Â  Â  color: #667eea;Â 
Â  Â  Â  Â  font-size: 24px;Â 
Â  Â  Â  Â  font-weight: 900;Â 
Â  Â  Â  Â  margin: 10px 0 15px 0;
Â  Â  }
Â  Â  .product-actions {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  margin-top: 15px;
Â  Â  }
Â  Â  .view-detail {
Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  border: none;Â 
Â  Â  Â  Â  padding: 12px 20px;Â 
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  border-radius: 10px;Â 
Â  Â  Â  Â  font-size: 14px;Â 
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .view-detail:hover {Â 
Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
Â  Â  }
Â  Â  .btn-delete-product {
Â  Â  Â  Â  padding: 12px 15px;
Â  Â  Â  Â  background: #ff4444;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .btn-delete-product:hover {
Â  Â  Â  Â  background: #cc0000;
Â  Â  }
Â  Â Â 
Â  Â  /* Product Detail */
Â  Â  .product-detail {
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  padding: 60px 50px;
Â  Â  Â  Â  max-width: 1200px;Â 
Â  Â  Â  Â  margin: 0 auto;
Â  Â  }
Â  Â  .detail-container {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  padding: 40px;
Â  Â  Â  Â  box-shadow: 0 4px 30px rgba(0,0,0,0.1);
Â  Â  }
Â  Â  .back-btn {
Â  Â  Â  Â  display: inline-flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  background: #f5f5f5;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .back-btn:hover {Â 
Â  Â  Â  Â  background: #e0e0e0;
Â  Â  Â  Â  transform: translateX(-5px);
Â  Â  }
Â  Â  .detail-content {
Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  grid-template-columns: 1fr 1fr;
Â  Â  Â  Â  gap: 50px;
Â  Â  Â  Â  align-items: start;
Â  Â  }
Â  Â  .detail-image {
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  position: sticky;
Â  Â  Â  Â  top: 100px;
Â  Â  }
Â  Â  .detail-image img {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  max-width: 500px;
Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  box-shadow: 0 8px 30px rgba(0,0,0,0.15);
Â  Â  }
Â  Â  .detail-info h2 {
Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-weight: 800;
Â  Â  }
Â  Â  .detail-price {
Â  Â  Â  Â  font-size: 36px;
Â  Â  Â  Â  color: #667eea;
Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  margin: 20px 0;
Â  Â  }
Â  Â  .detail-description {
Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  line-height: 1.8;
Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  font-size: 16px;
Â  Â  }
Â  Â  .detail-specs {
Â  Â  Â  Â  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  }
Â  Â  .detail-specs h4 {
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  font-weight: 700;
Â  Â  }
Â  Â  .detail-specs ul {
Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  padding: 0;
Â  Â  }
Â  Â  .detail-specs li {
Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  font-size: 15px;
Â  Â  Â  Â  border-bottom: 1px solid rgba(255,255,255,0.5);
Â  Â  }
Â  Â  .detail-specs li:last-child {
Â  Â  Â  Â  border-bottom: none;
Â  Â  }
Â  Â  .detail-actions {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  margin-top: 30px;
Â  Â  }
Â  Â  .btn-add-cart, .btn-buy-now {
Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  padding: 18px;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  gap: 8px;
Â  Â  }
Â  Â  .btn-add-cart {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  color: #667eea;
Â  Â  Â  Â  border: 2px solid #667eea;
Â  Â  }
Â  Â  .btn-add-cart:hover {
Â  Â  Â  Â  background: #667eea;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  }
Â  Â  .btn-buy-now {
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
Â  Â  }
Â  Â  .btn-buy-now:hover {
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
Â  Â  }
Â  Â Â 
Â  Â  /* Footer */
Â  Â  footer {Â 
Â  Â  Â  Â  background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  padding: 30px;Â 
Â  Â  Â  Â  font-size: 14px;Â 
Â  Â  Â  Â  margin-top: 60px;
Â  Â  }
Â  Â Â 
Â  Â  /* Modals */
Â  Â  .modal {
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  top: 0;Â 
Â  Â  Â  Â  left: 0;Â 
Â  Â  Â  Â  right: 0;Â 
Â  Â  Â  Â  bottom: 0;
Â  Â  Â  Â  background: rgba(0,0,0,0.6);
Â  Â  Â  Â  backdrop-filter: blur(5px);
Â  Â  Â  Â  z-index: 1000;Â 
Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  animation: fadeIn 0.3s;
Â  Â  }
Â  Â  .modal.active { display: flex; }
Â  Â  @keyframes fadeIn {
Â  Â  Â  Â  from { opacity: 0; }
Â  Â  Â  Â  to { opacity: 1; }
Â  Â  }
Â  Â  .modal-content {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  padding: 40px;
Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  max-width: 500px;
Â  Â  Â  Â  max-height: 90vh;
Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
Â  Â  Â  Â  animation: slideUp 0.3s;
Â  Â  }
Â  Â  @keyframes slideUp {
Â  Â  Â  Â  from { transform: translateY(50px); opacity: 0; }
Â  Â  Â  Â  to { transform: translateY(0); opacity: 1; }
Â  Â  }
Â  Â  .modal-content h3 {Â 
Â  Â  Â  Â  margin-bottom: 25px;Â 
Â  Â  Â  Â  color: #333;Â 
Â  Â  Â  Â  font-size: 28px;
Â  Â  Â  Â  font-weight: 800;
Â  Â  }
Â  Â Â 
Â  Â  /* Form */
Â  Â  .form-group {
Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  }
Â  Â  .form-group label {
Â  Â  Â  Â  display: block;
Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  font-size: 14px;
Â  Â  }
Â  Â  .form-group input,
Â  Â  .form-group select,
Â  Â  .form-group textarea {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  padding: 12px 15px;
Â  Â  Â  Â  border: 2px solid #e0e0e0;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  font-family: inherit;
Â  Â  }
Â  Â  .form-group input:focus,
Â  Â  .form-group select:focus,
Â  Â  .form-group textarea:focus {
Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  border-color: #667eea;
Â  Â  }
Â  Â  .form-actions {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  margin-top: 25px;
Â  Â  }
Â  Â  .form-actions button {
Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  padding: 14px;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-size: 15px;
Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .btn-primary {
Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  color: white;
Â  Â  }
Â  Â  .btn-primary:hover {
Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
Â  Â  }
Â  Â  .btn-secondary {
Â  Â  Â  Â  background: #f0f0f0;
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .btn-secondary:hover {
Â  Â  Â  Â  background: #e0e0e0;
Â  Â  }
Â  Â  #image-preview {
Â  Â  Â  Â  max-width: 100%;
Â  Â  Â  Â  max-height: 200px;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  margin-top: 10px;
Â  Â  }
Â  Â Â 
Â  Â  /* Cart Modal & Checkout */
Â  Â  .cart-items {Â 
Â  Â  Â  Â  list-style: none;Â 
Â  Â  Â  Â  padding: 0;Â 
Â  Â  Â  Â  max-height: 300px;
Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  border-bottom: 1px solid #eee;
Â  Â  }
Â  Â  .cart-item {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  border-bottom: 1px solid #f0f0f0;
Â  Â  Â  Â  transition: background 0.3s;
Â  Â  }
Â  Â  .cart-item:hover { background: #f9f9f9; }
Â  Â  .cart-item-image {
Â  Â  Â  Â  width: 60px;
Â  Â  Â  Â  height: 60px;
Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  object-fit: cover;
Â  Â  }
Â  Â  .cart-item-info { flex: 1; }
Â  Â  .cart-item-name {Â 
Â  Â  Â  Â  font-weight: 700;Â 
Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .cart-item-price {Â 
Â  Â  Â  Â  color: #667eea;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  font-size: 13px;
Â  Â  }
Â  Â  .cart-item-remove {
Â  Â  Â  Â  background: #ff4444;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-size: 12px;
Â  Â  }
Â  Â  .cart-total {
Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .checkout-section {
Â  Â  Â  Â  background: #f8f9fa;
Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  border-radius: 15px;
Â  Â  }
Â  Â  .checkout-section h4 {
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .empty-cart {
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  padding: 40px 20px;
Â  Â  Â  Â  color: #999;
Â  Â  }
Â  Â Â 
Â  Â  /* Orders Page */
Â  Â  #orders-page {
Â  Â  Â  Â  display: none;
Â  Â  Â  Â  padding: 60px 50px;
Â  Â  Â  Â  max-width: 1400px;
Â  Â  Â  Â  margin: 0 auto;
Â  Â  }
Â  Â  #orders-page h2 {
Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  font-weight: 800;
Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  }
Â  Â  .orders-list {
Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  gap: 20px;
Â  Â  }
Â  Â  .order-item {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  padding: 25px;
Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
Â  Â  Â  Â  position: relative;
Â  Â  }
Â  Â  .order-header {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  padding-bottom: 15px;
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  border-bottom: 1px dashed #eee;
Â  Â  }
Â  Â  .order-id {
Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  color: #667eea;
Â  Â  Â  Â  font-size: 16px;
Â  Â  }
Â  Â  .order-date {
Â  Â  Â  Â  font-size: 13px;
Â  Â  Â  Â  color: #999;
Â  Â  }
Â  Â  .order-total {
Â  Â  Â  Â  font-size: 20px;
Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  border-top: 1px solid #eee;
Â  Â  Â  Â  padding-top: 10px;
Â  Â  Â  Â  text-align: right;
Â  Â  }
Â  Â  .order-info p {
Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  color: #555;
Â  Â  }
Â  Â  .order-info strong {
Â  Â  Â  Â  color: #333;
Â  Â  }
Â  Â  .order-products table {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  border-collapse: collapse;
Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  font-size: 14px;
Â  Â  }
Â  Â  .order-products th, .order-products td {
Â  Â  Â  Â  border: 1px solid #eee;
Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  text-align: left;
Â  Â  }
Â  Â  .order-products th {
Â  Â  Â  Â  background: #f8f9fa;
Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  color: #667eea;
Â  Â  }
Â  Â  .btn-delete-order {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 15px;
Â  Â  Â  Â  right: 15px;
Â  Â  Â  Â  background: #ff4444;
Â  Â  Â  Â  color: white;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  transition: background 0.3s;
Â  Â  }
Â  Â  .btn-delete-order:hover {
Â  Â  Â  Â  background: #cc0000;
Â  Â  }

Â  Â  @media(max-width: 768px) {
Â  Â  Â  Â  header { padding: 15px 20px; }
Â  Â  Â  Â  nav { display: none; }
Â  Â  Â  Â  .banner { padding: 50px 20px; }
Â  Â  Â  Â  .banner h1 { font-size: 32px; }
Â  Â  Â  Â  .products { padding: 40px 20px; }
Â  Â  Â  Â  .admin-controls { padding: 20px; flex-direction: column; align-items: flex-start; }
Â  Â  Â  Â  .admin-actions { flex-direction: column; width: 100%; gap: 15px; }
Â  Â  Â  Â  .admin-actions button { width: 100%; }
Â  Â  Â  Â  .detail-content { grid-template-columns: 1fr; gap: 30px; }
Â  Â  Â  Â  .detail-image { position: static; }
Â  Â  Â  Â  .detail-actions { flex-direction: column; }
Â  Â  Â  Â  .product-list { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
Â  Â  Â  Â  #orders-page { padding: 40px 20px; }
Â  Â  Â  Â  .order-products th, .order-products td { padding: 8px 5px; font-size: 12px; }
Â  Â  }
</style>
</head>
<body>
<header>
Â  Â  <div class="logo" onclick="showHome()">ğŸ§º AnhShop</div>
Â  Â  <nav>
Â  Â  Â  Â  <a href="#" onclick="showHome()">Trang chá»§</a>
Â  Â  Â  Â  <a href="#products" onclick="showHome(); document.getElementById('products').scrollIntoView({behavior:'smooth'})">Sáº£n pháº©m</a>
Â  Â  Â  Â  <a href="#about">Giá»›i thiá»‡u</a>
Â  Â  Â  Â  <a href="#contact">LiÃªn há»‡</a>
Â  Â  </nav>
Â  Â  <div class="auth">
Â  Â  Â  Â  <button class="auth-btn" id="login-btn" onclick="showLoginModal()">ÄÄƒng nháº­p</button>
Â  Â  Â  Â  <div class="user-info" id="user-info">
Â  Â  Â  Â  Â  Â  <div class="user-menu">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="user-avatar" onclick="toggleUserMenu()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="user-initial">A</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="user-dropdown" id="user-dropdown">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" style="padding: 15px 20px; border-bottom: 1px solid #f0f0f0; pointer-events: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong id="user-name-display">Admin</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 12px; color: #999; margin-top: 3px;" id="user-role-display">Quáº£n trá»‹ viÃªn</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="#" onclick="logout(); return false;">ÄÄƒng xuáº¥t</a>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <span class="cart" onclick="showCart()">
Â  Â  Â  Â  Â  Â  ğŸ›’ Giá» hÃ ng <span class="cart-badge" id="cart-count">0</span>
Â  Â  Â  Â  </span>
Â  Â  </div>
</header>

<div class="admin-controls" id="admin-controls">
Â  Â  <div class="admin-header">
Â  Â  Â  Â  <h3>ğŸ› ï¸ Quáº£n lÃ½ há»‡ thá»‘ng</h3>
Â  Â  Â  Â  <div class="admin-actions">
Â  Â  Â  Â  Â  Â  <button class="btn-add-product" onclick="showAddProductModal()">â• ThÃªm sáº£n pháº©m</button>
Â  Â  Â  Â  Â  Â  <button class="btn-view-orders" onclick="showOrdersPage()">ğŸ“¦ Quáº£n lÃ½ ÄÆ¡n hÃ ng</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<div id="home-page" style="display: block;">
Â  Â  <section class="banner">
Â  Â  Â  Â  <div class="banner-content">
Â  Â  Â  Â  Â  Â  <h1>NÆ°á»›c Giáº·t & Äá»“ Gia Dá»¥ng Cháº¥t LÆ°á»£ng</h1>
Â  Â  Â  Â  Â  Â  <p>Giáº£i phÃ¡p giáº·t giÅ© vÃ  sáº£n pháº©m gia dá»¥ng cho má»i gia Ä‘Ã¬nh</p>
Â  Â  Â  Â  Â  Â  <button class="banner-btn" onclick="document.getElementById('products').scrollIntoView({behavior:'smooth'})">
Â  Â  Â  Â  Â  Â  Â  Â  KhÃ¡m phÃ¡ ngay
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section class="products" id="products">
Â  Â  Â  Â  <div class="products-header">
Â  Â  Â  Â  Â  Â  <h2>âœ¨ Sáº£n pháº©m ná»•i báº­t</h2>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="product-list" id="product-list">
Â  Â  Â  Â  Â  Â  <p style="text-align: center; grid-column: 1/-1;">Äang táº£i dá»¯ liá»‡u...</p>
Â  Â  Â  Â  </div>
Â  Â  </section>
</div>

<div id="detail-page" class="product-detail">
Â  Â  <div class="detail-container">
Â  Â  Â  Â  <button class="back-btn" onclick="showHome()">â† Quay láº¡i</button>
Â  Â  Â  Â  <div class="detail-content">
Â  Â  Â  Â  Â  Â  <div class="detail-image">
Â  Â  Â  Â  Â  Â  Â  Â  <img id="detail-img" src="" alt="">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="detail-info">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 id="detail-name"></h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="detail-price" id="detail-price"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="detail-description" id="detail-desc"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="detail-specs">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>ğŸ“‹ ThÃ´ng sá»‘ ká»¹ thuáº­t</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul id="detail-specs"></ul>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="detail-actions">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-add-cart" onclick="addToCartFromDetail()">ğŸ›’ ThÃªm vÃ o giá»</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-buy-now" onclick="buyNow()">âš¡ Mua ngay</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<div id="orders-page">
Â  Â  <h2>ğŸ“¦ Quáº£n lÃ½ ÄÆ¡n hÃ ng</h2>
Â  Â  <div class="orders-list" id="orders-list">
Â  Â  Â  Â  <p style="text-align: center;">Äang táº£i danh sÃ¡ch Ä‘Æ¡n hÃ ng...</p>
Â  Â  </div>
</div>
<footer>
Â  Â  <p>Â© 2025 AnhShop - Ná»n táº£ng mua sáº¯m nÆ°á»›c giáº·t & Ä‘á»“ gia dá»¥ng uy tÃ­n</p>
</footer>

<div class="modal" id="login-modal" onclick="closeModalOnOutside(event, 'login-modal')">
Â  Â  <div class="modal-content" onclick="event.stopPropagation()">
Â  Â  Â  Â  <h3>ğŸ” ÄÄƒng nháº­p</h3>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>Email</label>
Â  Â  Â  Â  Â  Â  <input type="email" id="login-email" placeholder="admin@shop.com">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>Máº­t kháº©u</label>
Â  Â  Â  Â  Â  Â  <input type="password" id="login-password" placeholder="admin123">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-actions">
Â  Â  Â  Â  Â  Â  <button class="btn-secondary" onclick="closeModal('login-modal')">Há»§y</button>
Â  Â  Â  Â  Â  Â  <button class="btn-primary" onclick="login()">ÄÄƒng nháº­p</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <p style="margin-top:15px; text-align:center; font-size:13px; color:#666">
Â  Â  Â  Â  Â  Â  ChÆ°a cÃ³ tÃ i khoáº£n? <a href="#" onclick="closeModal('login-modal'); showRegisterModal(); return false;" style="color:#667eea; font-weight:600;">ÄÄƒng kÃ½ ngay</a>
Â  Â  Â  Â  </p>
Â  Â  Â  Â  <p style="margin-top:10px; text-align:center; font-size:12px; color:#999; border-top:1px solid #eee; padding-top:15px;">
Â  Â  Â  Â  Â  Â  <strong>TÃ i khoáº£n Admin máº·c Ä‘á»‹nh:</strong><br>
Â  Â  Â  Â  Â  Â  Email: admin@anhshop.com<br>
Â  Â  Â  Â  Â  Â  Máº­t kháº©u: admin123456
Â  Â  Â  Â  </p>
Â  Â  </div>
</div>

<div class="modal" id="add-product-modal" onclick="closeModalOnOutside(event, 'add-product-modal')">
Â  Â  <div class="modal-content" onclick="event.stopPropagation()">
Â  Â  Â  Â  <h3>â• ThÃªm sáº£n pháº©m má»›i</h3>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>TÃªn sáº£n pháº©m</label>
Â  Â  Â  Â  Â  Â  <input type="text" id="product-name" placeholder="Nháº­p tÃªn sáº£n pháº©m">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>GiÃ¡ (VNÄ)</label>
Â  Â  Â  Â  Â  Â  <input type="number" id="product-price" placeholder="Nháº­p giÃ¡ sáº£n pháº©m">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>HÃ¬nh áº£nh (Chá»n file hoáº·c nháº­p URL)</label>
Â  Â  Â  Â  Â  Â  <input type="file" id="product-image-file" accept="image/*" onchange="previewImage(event)" style="margin-bottom: 10px;">
Â  Â  Â  Â  Â  Â  <img id="image-preview" src="" alt="">
Â  Â  Â  Â  Â  Â  <input type="text" id="product-image" placeholder="URL hÃ¬nh áº£nh" style="margin-top: 10px;">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>MÃ´ táº£</label>
Â  Â  Â  Â  Â  Â  <textarea id="product-desc" rows="3"></textarea>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>ThÃ´ng sá»‘ (Má»—i dÃ²ng 1 Ã½)</label>
Â  Â  Â  Â  Â  Â  <textarea id="product-specs" rows="4"></textarea>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-actions">
Â  Â  Â  Â  Â  Â  <button class="btn-secondary" onclick="closeModal('add-product-modal')">Há»§y</button>
Â  Â  Â  Â  Â  Â  <button class="btn-primary" onclick="addProduct()">ThÃªm ngay</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<div class="modal" id="cart-modal" onclick="closeModalOnOutside(event, 'cart-modal')">
Â  Â  <div class="modal-content" onclick="event.stopPropagation()">
Â  Â  Â  Â  <h3>ğŸ›’ Giá» hÃ ng & Thanh toÃ¡n</h3>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <ul class="cart-items" id="cart-items"></ul>
Â  Â  Â  Â  <div class="cart-total">Tá»•ng tiá»n: <span id="cart-total">0</span>â‚«</div>

Â  Â  Â  Â  <div class="checkout-section" id="checkout-form">
Â  Â  Â  Â  Â  Â  <h4>ğŸ“ ThÃ´ng tin giao hÃ ng</h4>
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="order-name" placeholder="Há» vÃ  tÃªn ngÆ°á»i nháº­n">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="tel" id="order-phone" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn há»‡">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="order-address" rows="2" placeholder="Äá»‹a chá»‰ giao hÃ ng chÃ­nh xÃ¡c"></textarea>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="form-actions">
Â  Â  Â  Â  Â  Â  <button class="btn-secondary" onclick="closeModal('cart-modal')">ÄÃ³ng</button>
Â  Â  Â  Â  Â  Â  <button class="btn-primary" onclick="checkout()">XÃ¡c nháº­n Ä‘áº·t hÃ ng</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<div class="modal" id="register-modal" onclick="closeModalOnOutside(event, 'register-modal')">
Â  Â  <div class="modal-content" onclick="event.stopPropagation()">
Â  Â  Â  Â  <h3>ğŸ“ ÄÄƒng kÃ½ tÃ i khoáº£n</h3>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>Há» vÃ  tÃªn</label>
Â  Â  Â  Â  Â  Â  <input type="text" id="register-name" placeholder="Nháº­p há» tÃªn cá»§a báº¡n">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>Email</label>
Â  Â  Â  Â  Â  Â  <input type="email" id="register-email" placeholder="example@email.com">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>Máº­t kháº©u</label>
Â  Â  Â  Â  Â  Â  <input type="password" id="register-password" placeholder="Tá»‘i thiá»ƒu 6 kÃ½ tá»±">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label>XÃ¡c nháº­n máº­t kháº©u</label>
Â  Â  Â  Â  Â  Â  <input type="password" id="register-confirm-password" placeholder="Nháº­p láº¡i máº­t kháº©u">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-actions">
Â  Â  Â  Â  Â  Â  <button class="btn-secondary" onclick="closeModal('register-modal')">Há»§y</button>
Â  Â  Â  Â  Â  Â  <button class="btn-primary" onclick="register()">ÄÄƒng kÃ½</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <p style="margin-top:15px; text-align:center; font-size:13px; color:#666">
Â  Â  Â  Â  Â  Â  ÄÃ£ cÃ³ tÃ i khoáº£n? <a href="#" onclick="closeModal('register-modal'); showLoginModal(); return false;" style="color:#667eea; font-weight:600;">ÄÄƒng nháº­p ngay</a>
Â  Â  Â  Â  </p>
Â  Â  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

<script>
// ============================================================
// 1. Cáº¤U HÃŒNH FIREBASE
// ============================================================
const firebaseConfig = {
Â  Â  apiKey: "AIzaSyAXDfcxcZyPvoNRDcYK70oFtfm1fQfpYwQ",Â 
Â  Â  authDomain: "shopmart-2dc9d.firebaseapp.com",Â 
Â  Â  databaseURL: "https://shopmart-2dc9d-default-rtdb.asia-southeast1.firebasedatabase.app",Â 
Â  Â  projectId: "shopmart-2dc9d",Â 
Â  Â  storageBucket: "shopmart-2dc9d.firebasedatabase.app",
Â  Â  messagingSenderId: "107122177579",
Â  Â  appId: "1:107122177579:web:531735163351335b37e0c4"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// ============================================================
// CÃC BIáº¾N TOÃ€N Cá»¤C
// ============================================================
let cart = [];
let currentProduct = null;
let currentUser = null;
let products = [];
let currentView = 'home'; // ÄÃ£ thÃªm Ä‘á»ƒ quáº£n lÃ½ chuyá»ƒn trang

// ============================================================
// KHÃ”I PHá»¤C PHIÃŠN ÄÄ‚NG NHáº¬P Tá»ª LOCALSTORAGE
// ============================================================
function restoreSession() {
Â  Â  const savedUser = localStorage.getItem('currentUser');
Â  Â  if (savedUser) {
Â  Â  Â  Â  currentUser = JSON.parse(savedUser);
Â  Â  Â  Â  updateUIAfterLogin();
Â  Â  }
Â  Â Â 
Â  Â  const savedCart = localStorage.getItem('cart');
Â  Â  if (savedCart) {
Â  Â  Â  Â  cart = JSON.parse(savedCart);
Â  Â  Â  Â  updateCartCount();
Â  Â  }
}

function saveSession() {
Â  Â  if (currentUser) {
Â  Â  Â  Â  localStorage.setItem('currentUser', JSON.stringify(currentUser));
Â  Â  } else {
Â  Â  Â  Â  localStorage.removeItem('currentUser');
Â  Â  }
Â  Â  localStorage.setItem('cart', JSON.stringify(cart));
}

function updateUIAfterLogin() {
Â  Â  document.getElementById('login-btn').style.display = 'none';
Â  Â  document.getElementById('user-info').style.display = 'flex';
Â  Â  document.getElementById('user-initial').textContent = currentUser.name.charAt(0).toUpperCase();
Â  Â  document.getElementById('user-name-display').textContent = currentUser.name;
Â  Â  document.getElementById('user-role-display').textContent = currentUser.role === 'admin' ? 'Quáº£n trá»‹ viÃªn' : 'NgÆ°á»i dÃ¹ng';
Â  Â Â 
Â  Â  if (currentUser.role === 'admin') {
Â  Â  Â  Â  document.getElementById('admin-controls').classList.add('active');
Â  Â  }
}

// =========================================================
// 2. CHá»¨C NÄ‚NG CHUYá»‚N TRANG
// =========================================================

function hideAllPages() {
Â  Â  document.getElementById('home-page').style.display = 'none';
Â  Â  document.getElementById('detail-page').style.display = 'none';
Â  Â  document.getElementById('orders-page').style.display = 'none';
}

function showHome() {
Â  Â  hideAllPages();
Â  Â  document.getElementById('home-page').style.display = 'block';
Â  Â  currentView = 'home';
}

function showProductDetail(productId) {
Â  Â  currentProduct = products.find(p => p.id == productId);Â 
Â  Â  if (!currentProduct) return;
Â  Â Â 
Â  Â  hideAllPages();
Â  Â  document.getElementById('detail-page').style.display = 'block';
Â  Â  currentView = 'detail';
Â  Â Â 
Â  Â  document.getElementById('detail-img').src = currentProduct.image;
Â  Â  document.getElementById('detail-name').textContent = currentProduct.name;
Â  Â  document.getElementById('detail-price').textContent = currentProduct.price.toLocaleString('vi-VN') + 'â‚«';
Â  Â  document.getElementById('detail-desc').textContent = currentProduct.description;
Â  Â Â 
Â  Â  const specsList = document.getElementById('detail-specs');
Â  Â  const specsArray = Array.isArray(currentProduct.specs) ? currentProduct.specs : (currentProduct.specs ? currentProduct.specs.split('\n') : []);
Â  Â  specsList.innerHTML = specsArray.map(spec => `<li>â€¢ ${spec}</li>`).join('');
Â  Â Â 
Â  Â  window.scrollTo(0, 0);
}

// ÄÃ£ thÃªm: HÃ m hiá»ƒn thá»‹ trang ÄÆ¡n hÃ ng
function showOrdersPage() {
Â  Â  if (!currentUser || currentUser.role !== 'admin') {
Â  Â  Â  Â  alert("Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p trang quáº£n lÃ½ Ä‘Æ¡n hÃ ng.");
Â  Â  Â  Â  return;
Â  Â  }
Â  Â  hideAllPages();
Â  Â  document.getElementById('orders-page').style.display = 'block';
Â  Â  currentView = 'orders';
Â  Â  loadOrders();
}

// =========================================================
// 3. CHá»¨C NÄ‚NG Láº¤Y VÃ€ HIá»‚N THá»Š Sáº¢N PHáº¨M
// =========================================================

async function loadProducts() {
Â  Â  // ... (Giá»¯ nguyÃªn hoáº·c thay Ä‘á»•i logic loadProducts náº¿u cáº§n, nhÆ°ng logic hiá»ƒn thá»‹ sáº£n pháº©m Ä‘Ã£ cÃ³ sáºµn)
Â  Â  try {
Â  Â  Â  Â  const productsRef = db.collection('products').orderBy('createdAt', 'desc');
Â  Â  Â  Â  const snapshot = await productsRef.get();
Â  Â  Â  Â Â 
Â  Â  Â  Â  products = snapshot.docs.map(doc => ({
Â  Â  Â  Â  Â  Â  id: doc.id,
Â  Â  Â  Â  Â  Â  ...doc.data()
Â  Â  Â  Â  }));
Â  Â  Â  Â Â 
Â  Â  Â  Â  displayProducts();
Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Lá»—i khi táº£i sáº£n pháº©m tá»« Firebase:", error);
Â  Â  Â  Â  document.getElementById('product-list').innerHTML = '<p style="text-align: center; grid-column: 1/-1; color: #ff4444;">KhÃ´ng thá»ƒ táº£i sáº£n pháº©m. Vui lÃ²ng kiá»ƒm tra káº¿t ná»‘i!</p>';
Â  Â  }
}

function displayProducts() {
Â  Â  const productList = document.getElementById('product-list');
Â  Â  const isAdmin = currentUser && currentUser.role === 'admin';
Â  Â Â 
Â  Â  if (products.length === 0) {
Â  Â  Â  Â  productList.innerHTML = '<p style="text-align: center; grid-column: 1/-1;">ChÆ°a cÃ³ sáº£n pháº©m nÃ o</p>';
Â  Â  Â  Â  return;
Â  Â  }
Â  Â Â 
Â  Â  productList.innerHTML = products.map(product => `
Â  Â  Â  Â  <div class="product" onclick="${isAdmin ? '' : `showProductDetail('${product.id}')`}">Â 
Â  Â  Â  Â  Â  Â  <div class="product-image-container">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="${product.image}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/280x250?text=No+Image'">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="product-content">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>${product.name}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="product-price">${product.price.toLocaleString('vi-VN')}â‚«</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="product-actions">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="view-detail" onclick="event.stopPropagation(); showProductDetail('${product.id}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Xem chi tiáº¿t
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${isAdmin ? `<button class="btn-delete-product" onclick="event.stopPropagation(); deleteProduct('${product.id}')">ğŸ—‘ï¸ XÃ³a</button>` : ''}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  `).join('');
}
// ... (CÃ¡c hÃ m khÃ¡c nhÆ° addProduct, deleteProduct, login, register, logout, v.v. - giá»¯ nguyÃªn)

// =========================================================
// 4. CHá»¨C NÄ‚NG GIá» HÃ€NG & THANH TOÃN
// =========================================================

// ... (Giá»¯ nguyÃªn cÃ¡c hÃ m giá» hÃ ng: updateCartCount, showCart, renderCartItems, addToCart, removeFromCart, updateQuantity)

function calculateTotal() {
Â  Â  return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
}

// ÄÃ£ cáº­p nháº­t: HÃ m thanh toÃ¡n (Checkout)
async function checkout() {
Â  Â  if (cart.length === 0) {
Â  Â  Â  Â  alert("Giá» hÃ ng cá»§a báº¡n Ä‘ang trá»‘ng!");
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  const name = document.getElementById('order-name').value.trim();
Â  Â  const phone = document.getElementById('order-phone').value.trim();
Â  Â  const address = document.getElementById('order-address').value.trim();
Â  Â  const totalAmount = calculateTotal();

Â  Â  if (!name || !phone || !address) {
Â  Â  Â  Â  alert("Vui lÃ²ng Ä‘iá»n Ä‘áº§y Ä‘á»§ Há» tÃªn, Sá»‘ Ä‘iá»‡n thoáº¡i vÃ  Äá»‹a chá»‰ giao hÃ ng.");
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  if (!confirm(`XÃ¡c nháº­n Ä‘áº·t hÃ ng? Tá»•ng tiá»n: ${totalAmount.toLocaleString('vi-VN')}â‚«`)) {
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  try {
Â  Â  Â  Â  const orderData = {
Â  Â  Â  Â  Â  Â  name: name,
Â  Â  Â  Â  Â  Â  phone: phone,
Â  Â  Â  Â  Â  Â  address: address,
Â  Â  Â  Â  Â  Â  total: totalAmount,
Â  Â  Â  Â  Â  Â  products: cart.map(item => ({
Â  Â  Â  Â  Â  Â  Â  Â  id: item.id,
Â  Â  Â  Â  Â  Â  Â  Â  name: item.name,
Â  Â  Â  Â  Â  Â  Â  Â  price: item.price,
Â  Â  Â  Â  Â  Â  Â  Â  quantity: item.quantity,
Â  Â  Â  Â  Â  Â  Â  Â  subtotal: item.price * item.quantity
Â  Â  Â  Â  Â  Â  })),
Â  Â  Â  Â  Â  Â  date: firebase.firestore.FieldValue.serverTimestamp(),
Â  Â  Â  Â  Â  Â  userId: currentUser ? currentUser.id : 'guest',
Â  Â  Â  Â  Â  Â  status: 'Äang xá»­ lÃ½'
Â  Â  Â  Â  };

Â  Â  Â  Â  await db.collection('orders').add(orderData);
Â  Â  Â  Â Â 
Â  Â  Â  Â  alert("ğŸ‰ Äáº·t hÃ ng thÃ nh cÃ´ng! Cáº£m Æ¡n báº¡n.");
Â  Â  Â  Â  closeModal('cart-modal');
Â  Â  Â  Â Â 
Â  Â  Â  Â  // XÃ³a giá» hÃ ng sau khi Ä‘áº·t thÃ nh cÃ´ng
Â  Â  Â  Â  cart = [];
Â  Â  Â  Â  saveSession();
Â  Â  Â  Â  updateCartCount();
Â  Â  Â  Â  showHome(); // Quay vá» trang chá»§
Â  Â  Â  Â Â 
Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Lá»—i khi Ä‘áº·t hÃ ng:", error);
Â  Â  Â  Â  alert("Lá»—i: KhÃ´ng thá»ƒ Ä‘áº·t hÃ ng. Vui lÃ²ng thá»­ láº¡i sau.");
Â  Â  }
}

// =========================================================
// 5. CHá»¨C NÄ‚NG QUáº¢N LÃ ÄÆ N HÃ€NG (Má»šI)
// =========================================================

// ÄÃ£ thÃªm: HÃ m táº£i danh sÃ¡ch Ä‘Æ¡n hÃ ng
async function loadOrders() {
Â  Â  const ordersListEl = document.getElementById('orders-list');
Â  Â  ordersListEl.innerHTML = '<p style="text-align: center;">Äang táº£i danh sÃ¡ch Ä‘Æ¡n hÃ ng...</p>';
Â  Â Â 
Â  Â  try {
Â  Â  Â  Â  const ordersRef = db.collection('orders').orderBy('date', 'desc');
Â  Â  Â  Â  const snapshot = await ordersRef.get();
Â  Â  Â  Â Â 
Â  Â  Â  Â  const orders = snapshot.docs.map(doc => ({
Â  Â  Â  Â  Â  Â  id: doc.id,
Â  Â  Â  Â  Â  Â  ...doc.data()
Â  Â  Â  Â  }));

Â  Â  Â  Â  if (orders.length === 0) {
Â  Â  Â  Â  Â  Â  ordersListEl.innerHTML = '<p style="text-align: center;">ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o Ä‘Æ°á»£c Ä‘áº·t.</p>';
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  ordersListEl.innerHTML = orders.map(order => renderOrder(order)).join('');

Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Lá»—i khi táº£i Ä‘Æ¡n hÃ ng:", error);
Â  Â  Â  Â  ordersListEl.innerHTML = '<p style="text-align: center; color: #ff4444;">Lá»—i táº£i Ä‘Æ¡n hÃ ng. Vui lÃ²ng kiá»ƒm tra Firebase.</p>';
Â  Â  }
}

// ÄÃ£ thÃªm: HÃ m hiá»ƒn thá»‹ chi tiáº¿t 1 Ä‘Æ¡n hÃ ng
function renderOrder(order) {
Â  Â  const date = order.date ? new Date(order.date.seconds * 1000).toLocaleString('vi-VN') : 'KhÃ´ng rÃµ';
Â  Â Â 
Â  Â  const productsTable = `
Â  Â  Â  Â  <table>
Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Sáº£n pháº©m</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="text-align: right;">GiÃ¡</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="text-align: center;">SL</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th style="text-align: right;">ThÃ nh tiá»n</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  ${order.products.map(p => `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${p.name}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="text-align: right;">${p.price.toLocaleString('vi-VN')}â‚«</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="text-align: center;">${p.quantity}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="text-align: right;">${p.subtotal.toLocaleString('vi-VN')}â‚«</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  `).join('')}
Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  </table>
Â  Â  `;

Â  Â  return `
Â  Â  Â  Â  <div class="order-item">
Â  Â  Â  Â  Â  Â  <button class="btn-delete-order" onclick="deleteOrder('${order.id}')">XÃ³a</button>
Â  Â  Â  Â  Â  Â  <div class="order-header">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="order-id">#${order.id.substring(0, 8).toUpperCase()}</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="order-date">Thá»i gian: ${date}</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="order-info">
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Tráº¡ng thÃ¡i:</strong> <span style="color:#28a745;">${order.status}</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>TÃªn ngÆ°á»i nháº­n:</strong> ${order.name}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> ${order.phone}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Äá»‹a chá»‰:</strong> ${order.address}</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="order-products">
Â  Â  Â  Â  Â  Â  Â  Â  ${productsTable}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="order-total">
Â  Â  Â  Â  Â  Â  Â  Â  Tá»•ng cá»™ng: ${order.total.toLocaleString('vi-VN')}â‚«
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  `;
}

// ÄÃ£ thÃªm: HÃ m xÃ³a Ä‘Æ¡n hÃ ng
async function deleteOrder(orderId) {
Â  Â  if (!confirm("Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a Ä‘Æ¡n hÃ ng nÃ y? Thao tÃ¡c nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c.")) return;

Â  Â  try {
Â  Â  Â  Â  await db.collection('orders').doc(orderId).delete();
Â  Â  Â  Â  alert("ÄÃ£ xÃ³a Ä‘Æ¡n hÃ ng thÃ nh cÃ´ng!");
Â  Â  Â  Â  loadOrders(); // Táº£i láº¡i danh sÃ¡ch Ä‘Æ¡n hÃ ng
Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Lá»—i khi xÃ³a Ä‘Æ¡n hÃ ng:", error);
Â  Â  Â  Â  alert("Lá»—i: KhÃ´ng thá»ƒ xÃ³a Ä‘Æ¡n hÃ ng.");
Â  Â  }
}


// =========================================================
// 6. KHá»I CHáº Y VÃ€ CÃC HÃ€M TIá»†N ÃCH KHÃC
// =========================================================
// ... (CÃ¡c hÃ m tiá»‡n Ã­ch khÃ¡c: closeModal, closeModalOnOutside, updateCartCount, showCart, renderCartItems, updateQuantity, v.v. - giá»¯ nguyÃªn)
// ... (HÃ m addProduct, deleteProduct, login, register, logout - giá»¯ nguyÃªn)
// KHá»I CHáº Y á»¨NG Dá»¤NG
document.addEventListener('DOMContentLoaded', () => {
Â  Â  restoreSession();
Â  Â  loadProducts();
});

// HÃ m máº«u cho cÃ¡c nÃºt báº¥m cÃ²n láº¡i (Ä‘á»ƒ khÃ´ng bá»‹ lá»—i JS)
function showRegisterModal() { closeModal('login-modal'); document.getElementById('register-modal').classList.add('active'); }
function showLoginModal() { closeModal('register-modal'); document.getElementById('login-modal').classList.add('active'); }
function toggleUserMenu() { document.getElementById('user-dropdown').classList.toggle('active'); }

// CÃC HÃ€M MODAL (ÄÃƒ CÃ“ TRONG CODE Gá»C, KHÃ”NG Cáº¦N THAY Äá»”I)
function closeModal(id) { document.getElementById(id).classList.remove('active'); }
function closeModalOnOutside(event, id) { if (event.target.id === id) closeModal(id); }
function showAddProductModal() { closeModal('cart-modal'); document.getElementById('add-product-modal').classList.add('active'); }

function previewImage(event) {
Â  Â  const reader = new FileReader();
Â  Â  reader.onload = function(){
Â  Â  Â  Â  const output = document.getElementById('image-preview');
Â  Â  Â  Â  output.src = reader.result;
Â  Â  Â  Â  output.style.display = 'block';
Â  Â  Â  Â  document.getElementById('product-image').value = ''; // XÃ³a URL náº¿u chá»n file
Â  Â  };
Â  Â  reader.readAsDataURL(event.target.files[0]);
}

function updateCartCount() {
Â  Â  const count = cart.reduce((sum, item) => sum + item.quantity, 0);
Â  Â  document.getElementById('cart-count').textContent = count;
}

function showCart() {
Â  Â  renderCartItems();
Â  Â  document.getElementById('cart-modal').classList.add('active');
}

function renderCartItems() {
Â  Â  const cartItemsEl = document.getElementById('cart-items');
Â  Â  const cartTotalEl = document.getElementById('cart-total');
Â  Â Â 
Â  Â  if (cart.length === 0) {
Â  Â  Â  Â  cartItemsEl.innerHTML = '<li class="empty-cart">Giá» hÃ ng trá»‘ng.</li>';
Â  Â  Â  Â  cartTotalEl.textContent = '0';
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  const itemsHtml = cart.map(item => `
Â  Â  Â  Â  <li class="cart-item" data-id="${item.id}">
Â  Â  Â  Â  Â  Â  <img src="${item.image}" alt="${item.name}" class="cart-item-image" onerror="this.src='https://via.placeholder.com/60x60?text=No+Image'">
Â  Â  Â  Â  Â  Â  <div class="cart-item-info">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cart-item-name">${item.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="cart-item-price">${(item.price * item.quantity).toLocaleString('vi-VN')}â‚« (${item.price.toLocaleString('vi-VN')}â‚«/sp)</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateQuantity('${item.id}', -1)" style="padding: 3px 8px; background: #eee; border: 1px solid #ccc; border-radius: 4px;">-</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${item.quantity}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateQuantity('${item.id}', 1)" style="padding: 3px 8px; background: #eee; border: 1px solid #ccc; border-radius: 4px;">+</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="cart-item-remove" onclick="removeFromCart('${item.id}')">XÃ³a</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </li>
Â  Â  `).join('');

Â  Â  cartItemsEl.innerHTML = itemsHtml;
Â  Â  cartTotalEl.textContent = calculateTotal().toLocaleString('vi-VN');
}

function addToCart(productId) {
Â  Â  const product = products.find(p => p.id === productId);
Â  Â  const existingItem = cart.find(item => item.id === productId);

Â  Â  if (product) {
Â  Â  Â  Â  if (existingItem) {
Â  Â  Â  Â  Â  Â  existingItem.quantity += 1;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  cart.push({
Â  Â  Â  Â  Â  Â  Â  Â  id: product.id,
Â  Â  Â  Â  Â  Â  Â  Â  name: product.name,
Â  Â  Â  Â  Â  Â  Â  Â  price: product.price,
Â  Â  Â  Â  Â  Â  Â  Â  image: product.image,
Â  Â  Â  Â  Â  Â  Â  Â  quantity: 1
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â  saveSession();
Â  Â  Â  Â  updateCartCount();
Â  Â  Â  Â  alert(`ÄÃ£ thÃªm 1 x ${product.name} vÃ o giá» hÃ ng!`);
Â  Â  }
}

function addToCartFromDetail() {
Â  Â  if (currentProduct) {
Â  Â  Â  Â  addToCart(currentProduct.id);
Â  Â  }
}

function buyNow() {
Â  Â  if (currentProduct) {
Â  Â  Â  Â  // ThÃªm sáº£n pháº©m hiá»‡n táº¡i vÃ o giá» hÃ ng (hoáº·c thay tháº¿ giá» hÃ ng)
Â  Â  Â  Â  const existingItem = cart.find(item => item.id === currentProduct.id);
Â  Â  Â  Â  if (!existingItem) {
Â  Â  Â  Â  Â  Â  cart.push({
Â  Â  Â  Â  Â  Â  Â  Â  id: currentProduct.id,
Â  Â  Â  Â  Â  Â  Â  Â  name: currentProduct.name,
Â  Â  Â  Â  Â  Â  Â  Â  price: currentProduct.price,
Â  Â  Â  Â  Â  Â  Â  Â  image: currentProduct.image,
Â  Â  Â  Â  Â  Â  Â  Â  quantity: 1
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  saveSession();
Â  Â  Â  Â  Â  Â  updateCartCount();
Â  Â  Â  Â  }
Â  Â  Â  Â  showCart();
Â  Â  }
}

function removeFromCart(productId) {
Â  Â  cart = cart.filter(item => item.id !== productId);
Â  Â  saveSession();
Â  Â  updateCartCount();
Â  Â  renderCartItems();
}

function updateQuantity(productId, delta) {
Â  Â  const item = cart.find(item => item.id === productId);
Â  Â  if (item) {
Â  Â  Â  Â  item.quantity += delta;
Â  Â  Â  Â  if (item.quantity <= 0) {
Â  Â  Â  Â  Â  Â  removeFromCart(productId);
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }
Â  Â  Â  Â  saveSession();
Â  Â  Â  Â  updateCartCount();
Â  Â  Â  Â  renderCartItems();
Â  Â  }
}
// CÃ¡c hÃ m Admin/Login/Register cÃ²n láº¡i giá»¯ nguyÃªn...

</script>
</body>
</html>
